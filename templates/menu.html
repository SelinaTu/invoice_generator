<div id="menu">
  <div id="menu-logos" class="flex flex-row gap-2 items-center align-center justify-between">
    <div class="flex flex-row gap-2">
      <button @click="async () => { 
        await resetWorkspace();
      }" 
      class="hover:scale-105 transition-transform" 
      title="Return to welcome screen">
        <svg class="hover:rotate-12 ease-in-out duration-300" xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 128 128">
          <path fill="#757f3e"
            d="M24 29.48L13.08 54.15l.91 29.83s6.07 19.56 6.37 19.77c.3.2 1.31-.25 3.74-4.6s8.6-13.05 9.1-15.17c.51-2.12.71-17.39.71-17.39l1.42-32.87z" />
          <path fill="#94a61d"
            d="M24.03 30.48S4.09 49.65 4.08 68.11c0 12.85 6.27 19.92 7.79 22.45s5.06 7.99 5.87 9.1s1.79 3.21 2.49 4.02c.71.81-.07-5.34-.88-7.86c-.81-2.53-3.02-16.26-3.03-25.28c-.01-9.88.83-21.85 4.28-29.1c3.81-8 7.39-11.78 7.39-11.78z" />
          <path fill="#fcc219"
            d="M30.68 33.02s-5.87 2.93-6.07 6.47s1.62 7.18 2.33 12.03s.71 11.02.81 12.84C27.84 66.19 33 78.53 33 78.53l32.06 28.72l40.15 1.21s12.64.71 14.26-1.21s4.68-6.23 5.06-9.1c.71-5.36-1.21-8.19-2.63-16.79c-.6-3.66-.81-17.98-6.27-29.43c-6.17-12.94-18.41-24.27-43.18-27.51c-18.01-2.35-27.1 1.42-29.73 1.01c-2.63-.4-4.75-1.62-7.79-.2c-3.89 1.81-4.25 7.79-4.25 7.79"
            stroke="#f7932a" stroke-width="2" />
          <path fill="#ffebc9"
            d="M110.77 112.2c4.77.16 7.28-2.53 8.29-3.64s3.04-4.93 3.04-4.93s-3.45 2.91-7.39 2.7c-3.94-.2-9.2-1.21-12.34-1.52s-13.05 1.92-25.08-.71s-25.31-9.28-34.08-17.9c-11.83-11.63-15.6-24.64-15.6-24.64s-.58 16.14 10.75 30.91s22.86 20.02 37.01 21.54c16 1.71 24.98-1.92 27.3-2.02c2.34-.09 5.17.11 8.1.21"
            stroke="#f7932a" stroke-width="2" />
          <path fill="#ffebc9"
            d="M53.03 35.34c-.3 3.14 1.62 5.46 3.94 5.87c2.5.43 6.27-.2 11.83 2.93c5.56 3.14 13.37 10.96 18 6.78c4.25-3.84-2.63-10.92-5.06-13.05c-2.43-2.12-8.49-7.58-19.92-7.79c-6.57-.11-8.59 3.14-8.79 5.26"
            stroke="#757f3e" stroke-width="2" />
          <path fill="#ffebc9"
            d="M20.36 17.34c-.02-.75-.71-4.95-2.72-3.98c-3.47 1.66-4.78 4.1-3.65 6.92c1.42 3.54 3.8 5.84 6.37 8.49c1.97 2.04 5.87 6.17 7.28 7.38c1.42 1.21 3.51 2.86 5.97-.3c2.62-3.37.85-3.98-1.38-6.11S29 26.9 24.71 22.5c-2.15-2.21-4.33-4.41-4.35-5.16"
            stroke="#757f3e" stroke-width="2" />
        </svg>
      </button>
      <h1
        class="text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-br from-emerald-700 via-green-600 to-lime-500">
        Fresh Invoices</h1>
    </div>
    <div>
      <div class="AppLogo ml-auto">
        <a href="https://labspace.ai" target="_blank">
          <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" fill="none" viewBox="0 0 42 42">
            <g fill="#0059B8" clip-path="url(#a)">
              <path fill-rule="evenodd"
                d="M45 25V-2H17v13.5C17 18.9558 23.268 25 31 25h14ZM22 13c3.866 0 7-3.13401 7-7 0 3.86599 3.134 7 7 7-3.866 0-7 3.134-7 7 0-3.866-3.134-7-7-7Z"
                clip-rule="evenodd" />
              <circle cx="2.5" cy="39.5" r="13.5" />
              <path
                d="M45 39.5C45 46.9558 38.732 53 31 53s-14-6.0442-14-13.5S23.268 26 31 26h14v13.5Zm-29-28C16 18.9558 9.95584 25 2.5 25S-11 18.9558-11 11.5C-11 4.04416-4.95584-2 2.5-2H16v13.5Z" />
            </g>
            <path stroke="#0059B8" stroke-width="2"
              d="M21 41C9.95431 41 1 32.0457 1 21 1 9.95431 9.95431 1 21 1c11.0457 0 20 8.95431 20 20 0 11.0457-8.9543 20-20 20Z" />
            <defs>
              <clipPath id="a">
                <path fill="#fff"
                  d="M0 21C0 9.40202 9.40202 0 21 0c11.598 0 21 9.40202 21 21 0 11.598-9.402 21-21 21C9.40202 42 0 32.598 0 21Z" />
              </clipPath>
            </defs>
          </svg>
        </a>
      </div>
    </div>
  </div>
  <div class="flex gap-4 mt-4 mb-4">
    <div id="menu-invoices" class="left flex-1 | flex flex-row gap-2 ">
      <div class="relative flex-grow max-w-lg">
        <select name="saved-invoices" @change="loadInvoice($event.target.value && JSON.parse($event.target.value))"
          class="w-full h-11 px-2 bg-white border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500 appearance-none">
          <option value="">Select a saved invoice...</option>
          <template x-for="inv in savedInvoices" :key="inv.id">
            <option :value="JSON.stringify({...inv})"
              x-text="inv.number + ' - ' + (inv.customerName.slice(0,30) + (inv.customerName.length > 30 ? '...' : '')) + ' (' + new Date(inv.savedAt).toLocaleDateString() + ')'">
            </option>
          </template>
          </template>
        </select>
        <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 pr-3 text-gray-700">
          <svg class="fill-current h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">
            <path d="M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z" />
          </svg>
        </div>
      </div>
      <template x-if="savedInvoices.some(inv => inv.id === invoice.id)">
        <div class="flex gap-2">
          <button @click="duplicateInvoice(invoice)" class="py-2 text-gray-500 hover:text-gray-700"
            title="Duplicate invoice">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
              <g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">
                <path
                  d="M7 9.667A2.667 2.667 0 0 1 9.667 7h8.666A2.667 2.667 0 0 1 21 9.667v8.666A2.667 2.667 0 0 1 18.333 21H9.667A2.667 2.667 0 0 1 7 18.333z" />
                <path d="M4.012 16.737A2 2 0 0 1 3 15V5c0-1.1.9-2 2-2h10c.75 0 1.158.385 1.5 1" />
              </g>
            </svg>
          </button>
          <button @click="deleteInvoice(invoice.id)" class="py-2 text-gray-500 hover:text-gray-700"
            title="Delete invoice">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
              <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M4 7h16m-10 4v6m4-6v6M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2l1-12M9 7V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3" />
            </svg>
          </button>
        </div>
      </template>
    </div>
  </div>
</div>